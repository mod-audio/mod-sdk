<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MOD SDK</title>

    <link rel="apple-touch-icon" sizes="57x57" href="img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#111111">
    <meta name="msapplication-TileImage" content="img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#111111">

    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="css/main.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="css/dashboard.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="css/fonts.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="css/pedals.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="css/sdk.css?v={{version}}"/>

    <!-- DEFAULT -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/default.css?v={{version}}"/>

    <!-- JAPANESE -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/japanese/japanese.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/japanese/japanese.css?v={{version}}"/>

    <!-- BOXY -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/boxy/boxy.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/boxy/boxy.css?v={{version}}"/>

    <!-- LATA -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/lata/lata.css?v={{version}}"/>
    <link rel="stylesheet" type="text/css" href="resources/knobs/lata/lata.css?v={{version}}"/>

    <!-- BRITISH -->
    <link rel="stylesheet" type="text/css" href="resources/pedals/british/british.css?v={{version}}"/>

    <!-- HEAD MODEL 001 -->
    <link rel="stylesheet" type="text/css" href="resources/heads/model-001/model-001.css?v={{version}}"/>

    <!-- COMBO MODEL 001 -->
    <link rel="stylesheet" type="text/css" href="resources/combos/model-001/model-001.css?v={{version}}"/>

    <!-- RACK MODEL 001 -->
    <link rel="stylesheet" type="text/css" href="resources/racks/model-001/model-001.css?v={{version}}"/>

    <script type="text/javascript" src="js/jquery-1.9.1.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/jquery-ui-1.10.1.custom.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/jquery.ui.touch-punch.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/jquery.ba-resize.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/mustache.js?v={{version}}"></script>
    <script type="text/javascript" src="js/jquery.svg.js?v={{version}}"></script>
    <script type="text/javascript" src="js/sprintf-0.6.js?v={{version}}"></script>
    <script type="text/javascript" src="js/jquery.mousewheel.min.js?v={{version}}"></script>
    <script type="text/javascript" src="js/jquery.textareaAutoResize.js?v={{version}}"></script>
    <script type="text/javascript" src="js/raphael-min.js?v={{version}}"></script>
    <script>
      {% autoescape None %}
      var desktop = null
      var monitor = null
      var TEMPLATES  = {}
      var SAMPLERATE = 48000
      defaultIconTemplate = '{{default_icon_template}}'
      defaultSettingsTemplate = '{{default_settings_template}}'
      VERSION      = '{{version}}'
      wizard_db    = JSON.parse('{{wizard_db}}')
      device_mode  = {{device_mode}}
      write_access = {{write_access}}
    </script>
    <script type="text/javascript" src="js/modgui.js?v={{version}}"></script>
    <script type="text/javascript" src="js/modsdk.js?v={{version}}"></script>
    <script type="text/javascript" src="js/wizard.js?v={{version}}"></script>
    <script type="text/javascript" src="js/templates.js?v={{version}}"></script>
    <script type="text/javascript" src="js/monitor.js"></script>
    <script>
      var monitor = new BundleMonitor();
      isSDK = true
    </script>
</head>
<body>

    <!-- WRAPPER -->
    <div id="wrapper">

        <!-- PEDALBOARD -->
        <div id="pedalboard">
            <!-- PEDALBOARD-ACTIONS -->
            <div id="pedalboard-actions">
                <!-- PEDALBOARD-SETTINGS -->
                <div id="pedalboard-info">
                    <div class="title">MOD SDK</div>
                    <a id="next-bundle">&gt;</a>
                    <select id="bundle-select"></select>
                    <select id="effect-select"></select>
                    <div id="version"></div>
                </div>
                <!-- END PEDALBOARD-SETTINGS -->
            </div>
            <!-- END PEDALBOARD-ACTIONS -->
        </div>
        <!-- END OF PEDALBOARD -->

        <!-- content-wrapper -->
        <div id="content-wrapper">
            <ul id="menu">
                <li id="tab-info">Information</li>
                <li id="tab-icon">Icon</li>
                <li id="tab-screenshot">Icon Screenshot</li>
                <li id="tab-settings">Settings</li>
                <li id="tab-deploy">Deploy</li>
            </ul>

            <div id="content-info" class="content">
                <!--<div class="summary">
                    <p>Here you can see some properties of the selected plugin,
                      to make sure the experience on MOD is the best possible.</p>
                </div>-->
                <div class="controls clearfix">
                    <!--<h2 id="info-uri"></h2>-->
                    <label><b>Plugin Data</b></label>
                    <table border="0" style="width:100%">
                    <tr>
                        <td width="20%"></td><td width="1%"></td>
                        <td width="20%"></td><td width="1%"></td>

                        <td width="20%"></td><td width="1%"></td>
                        <td width="20%"></td><td width="17%"></td>
                    </tr>
                    <tr>
                        <td style="text-align:right;vertical-align:top">URI:</td><td></td>
                        <td colspan="6"><span id="info-uri"></span></td>
                    </tr>
                    <tr>
                        <td><div style="padding-top:5px"></div></td><td></td><td></td><td></td>
                        <td><div style="padding-top:5px"></div></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td style="text-align:right;vertical-align:top">Name:</td><td></td>
                        <td><span id="info-name"></span></td><td></td>

                        <td style="text-align:right;vertical-align:top">Author:</td><td></td>
                        <td><span id="info-author"/></span></td><td></td>
                    </tr>
                    <tr>
                        <td style="text-align:right;vertical-align:top">Label:</td><td></td>
                        <td><span id="info-label"></span></td><td></td>

                        <td style="text-align:right;vertical-align:top">Brand:</td><td></td>
                        <td><span id="info-brand"></span></td><td></td>
                    </tr>
                    <tr>
                        <td><div style="padding-top:5px"></div></td><td></td><td></td><td></td>
                        <td><div style="padding-top:5px"></div></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td style="text-align:right;vertical-align:top">Version:</td><td></td>
                        <td><span id="info-version"></span></td><td></td>

                        <td style="text-align:right;vertical-align:top">License:</td><td></td>
                        <td><span id="info-license"></span></td><td></td>
                    </tr>
                    <tr>
                        <td><div style="padding-top:5px"></div></td><td></td><td></td><td></td>
                        <td><div style="padding-top:5px"></div></td><td></td><td></td><td></td>
                    </tr>
                    <tr>
                        <td style="text-align:right;vertical-align:top">Comment:</td><td></td>
                        <td colspan="6"><span id="info-comment"></span></td>
                    </tr>
                    </table>
                    <p>&nbsp;</p>
                    <div id="info-errors"></div>
                    <div id="info-warnings"></div>
                </div>
                <!--<div class="controls clearfix">
                    <label>Hardware display</label>
                    <span>Short name: </span><input id="info_hwname" type="text"/>
                </div>
                <div id="info_ports"></div>
                <button id="info_write">Write to disk</button>-->
            </div>

            <div id="content-icon" class="content">
                <div class="summary">
                    <p>This interface was rendered based on the LV2 TTL files.
                        Every time you reload this page, proper bundle will be parsed and the layout rendered again.</p>
                    <p>You can explore some of the pedal funcionality.
                        By moving the knobs, clicking the footswitch and dragging this pedal,
                        you can see how these things will work once the plugin is installed.</p>
                    <p>To generate a new interface, you can use the wizard.
                        It provides several base layouts that can either be used as final interface or customized as desired.
                        When customizing, you can use the debug button to see what information is available for using in your template.<p>
                    <p>Full documentation of MOD GUI specifications is available at
                        <a href="http://moddevices.com/ns/modgui" target="_blank">http://moddevices.com/ns/modgui</a>.</p>
                    <p id="wizard_nobutton"><b>You do not have write access to any folder in LV2_PATH,
                        running the wizard is not possible.</b></p>
                    <p id="wizard_noeditable"><b>Cannot customize bundles with more than one plugin.</b></p>
                    <button id="wizard">Launch Wizard</button>
                    <button class="debug">Debug</button>
                </div>
                <div class="canvas"></div>
            </div>

            <div id="content-screenshot" class="content">
                <div class="summary">
                    <p>Each plugin can be represented by two images: one real-size screenshot and one thumbnail.
                        These images are provided by mod:screenshot and mod:thumbnail LV2 properties respectively.</p>
                    <p>Here you can see these images. You can also generate them automatically, by using the button below.
                        When you do that, the image will be automatically saved at the configured path,
                        or at an arbitrary suggested path in case there is no configuration.
                        So, be careful, as <b>previous images will be overwritten</b>.</p>
                    <button id="screenshot">Generate images</button>
                </div>
                <div class="canvas"></div>
            </div>

            <div id="content-settings" class="content">
                <p>Reserved for full plugin setup interface</p>
                <div class="canvas"></div>
            </div>

            <div id="content-deploy" class="content">
                <div class="controls clearfix">
                    <label>Device address</label>
                    <input id="device" type="text" value="{{default_device}}"/>
                    <span id="device-local" data="http://localhost:8888">local</span> |
                    <span id="device-device" data="http://192.168.51.1">device</span>
                </div>
                <button id="deploy">Deploy via webserver</button>
            </div>
        </div>
        <!-- /content-wrapper -->

        <div id="no-bundles">
            <h2>Install plugins to get started.</h2>
            <p>No lv2 bundles were found.</p>
            <p>Get started by installing some using your package manager.</p>
            <p>If you use a Debian-based GNU/Linux distribution (like Ubuntu), try installing Guitarix with the command:</p>
            <pre><code>sudo apt install guitarix-lv2</code></pre>
        </div>

        <!-- PEDALBOARD-DASHBOARD -->
        <div id="pedalboard-dashboard"></div>
        <!-- END PEDALBOARD-DASHBOARD -->

    </div>
    <!-- END WRAPPER -->

    <div id="debug-window" class="debug-popup hidden">
        <div class="box">
            <h1 class="box-title">DEBUG</h1>
            Below is all information available to this plugin's template
            <button id="debug-cancel" class="js-cancel-saving btn btn-danger">X</button>
            <pre></pre>
        </div>
    </div>

    <!-- wizard-window -->
    <div id="wizard-window" class="wizard-popup hidden">
        <!-- box -->
        <div class="box">
            <h1 class="box-title">Wizard</h1>
            <div class="wizard-icon"></div>
            <button id="wizard-cancel" class="js-cancel-saving btn btn-danger">X</button>
            <div class="controls">
                <button id="wizard-previous" class="btn btn-success">Previous</button>
                <button id="wizard-next" class="btn btn-success">Next</button>
            </div>

            <div id="wizard-step-0" class="step">
                <h2>Step 1 - choose model</h2>
                <div id="model-choice">
                    <div class="previous">&lt;</div>
                    <h3>Model here</h3>
                    <div class="next">&gt;</div>
                </div>
                <h4 id="color-select-title">Select color</h4>
                <div id="color-options"></div>
                <h4>Select panel layout</h4>
                <ul id="panel-options" class="clearfix"></ul>
                <div class="clearfix"></div>
                <div id="knob-choice">
                    <h4>Select knob</h4>
                    <div id="knob-options"></div>
                </div>
            </div>

            <div id="wizard-step-1" class="step">
                <h2>Step 2 - configure</h2>
                <div id="wizard-configuration">
                    Brand: <input name="brand" type="text"/><br />
                    Label: <input name="label" type="text"/><br />
                    <div id="pedal-buttons"></div>
                </div>
            </div>

            <div id="wizard-step-2" class="step">
              <h2>The changes below are about to be saved.</h2>
              <div>
                <p>
                  <ul id="staged-changes">
                    <li><b>manifest.ttl</b> will be edited</li>
                    <li><b>modgui.ttl</b> will be created</li>
                    <li>HTML and CSS files will be created</li>
                    <li>Background and element images will be copied to bundle</li>
                  </ul>
                </p>
                <p><br/></p>
                <p>
                  <b>
                    ATTENTION:
                    Any existing files will be overriden by automatic generated ones.
                    If you have done custom layout work on these files, your changes will be lost.
                  </b>
                </p>
              </div>
            </div>

            <div id="wizard-step-3" class="step">
                <h2>That's it!</h2>
                <div>
                    <p>
                        If you desire, you can now generate a screenshot and thumbnail of your icon.
                    </p>
                    <p>
                        You can always generate these images later, without this wizard.
                    </p>
                    <div id="wizard-thumbnail"></div>
                    <button id="wizard-generate-thumbnail">Generate screenshots</button>
                    <p><br/></p>
                </div>
                <div>
                    <p>
                        For more information, <a href="http://moddevices.com/ns/modgui" target="_blank">read the docs</a>
                    </p>
                </div>
            </div>

        </div>
        <!-- /box -->
    </div>
    <!-- /wizard-window -->

</body>
</html>
